import{L as h}from"./index.44e8f268.js";/* empty css              */import{a as u}from"./FileSaver.min.a072bdec.js";import{a as g,r as m,o as a,b as o,h as r,e,t as c,z as d,F as v,x as b,G as p,bg as x}from"./entry.92cc3846.js";import"./vue.runtime.esm-bundler.08aa84eb.js";const k={layout:"auth",components:{Loading:h},head:{title:"Gramps XML Export"},data(){return{error:!1,message:"",errors:null,file:void 0,fileName:"",isLoading:!1,fullPage:!0,color:"#4fcf8d",backgroundColor:"#ffffff",response:null,inProgress:0,interval:null,generatedFile:null,fileName:""}},methods:{handleExportFiles(){this.$axios.$get("/api/gramps-export",{headers:{"content-type":"multipart/form-data"}}).then(i=>{this.inProgress=!0,this.isLoading=!1,this.generatedFile=new Blob([i.file]),this.fileName=i.name}).catch(i=>{console.log("error"),console.log(i)})},downloadFile(){u.saveAs(this.generatedFile,this.fileName),this.generatedFile=null,this.fileName=""},async checkJobCompleted(){await this.$axios.$post("/api/check-gramps-export",{},{headers:{"content-type":"multipart/form-data","Access-Control-Allow-Origin":"*"}}),console.log(response)}}},w=x('<div class="columns is-gapless is-multiline is-mobile" data-v-6228856f><div class="column is-12" data-v-6228856f><h1 class="is-size-4 has-text-black" data-v-6228856f><span class="has-text-weight-medium" data-v-6228856f>Export Gramps XML</span></h1></div><div class="column is-12" data-v-6228856f><nav class="breadcrumb mt-1 mb-0" aria-label="breadcrumbs" data-v-6228856f><ul data-v-6228856f><li data-v-6228856f><a class="is-size-7 has-text-weight-medium has-text-link" href="/dashboard" data-v-6228856f>Home</a></li><li class="is-size-7 has-text-weight-medium is-active" data-v-6228856f><a href="/dashboard" aria-current="page" data-v-6228856f>Export Gramps XML</a></li></ul></nav></div></div>',1),y={class:"columns is-variable is-3 is-desktop is-flex-desktop-only ai--s"},F={class:"column is-12"},L={class:"card has-background-white has-text-black",style:{height:"500px"}},N={class:"card-content"},C={key:0,class:"notification is-success"},E={key:1,class:"notification is-danger"},G={class:"notification is-danger"},V={class:"field import_block"},z={class:"file is-large is-boxed has-background-primary"},B={class:"file-label"},M={class:"file-label"},X={class:"file-icon"},A={key:2,class:"field import_block"},P={class:"file is-large is-boxed has-background-primary"},S={class:"file-label"},D={class:"file-label"},H={class:"file-icon"};function I(i,l,J,O,s,n){const _=m("loading"),f=m("font-awesome-icon");return a(),o("div",null,[r(_,{active:s.isLoading,color:s.color,"background-color":s.backgroundColor},null,8,["active","color","background-color"]),w,e("div",y,[e("div",F,[e("div",L,[e("div",N,[s.response?(a(),o("div",C,c(s.response),1)):d("",!0),s.error?(a(),o("div",E,c(s.message),1)):d("",!0),(a(!0),o(v,null,b(s.errors,t=>(a(),o("div",G,c(t[0]),1))),256)),e("div",V,[e("div",z,[e("label",B,[e("span",{class:"file-cta",onClick:l[0]||(l[0]=(...t)=>n.handleExportFiles&&n.handleExportFiles(...t))},[e("span",M,[e("span",X,[r(f,{icon:["fas","download"]})]),p(" Generating a Gramps XML file ")])])])])]),s.generatedFile?(a(),o("a",A,[e("div",P,[e("label",S,[e("span",{class:"file-cta",onClick:l[1]||(l[1]=(...t)=>n.downloadFile&&n.downloadFile(...t))},[e("span",D,[e("span",H,[r(f,{icon:["fas","download"]})]),p(" Download ")])])])])])):d("",!0)])])])])])}const R=g(k,[["render",I],["__scopeId","data-v-6228856f"]]);export{R as default};
