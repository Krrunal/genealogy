import{l as F,C as I,A as T,i as N,du as U,Q as z,w as k,aj as $,a as S,r as p,o as d,c as y,H as a,h as c,e as s,aN as B,G as i,b as u,F as j,x as q,t as _,z as g,O as f,y as w,P as x,bw as A,X as G,Y as M,ak as b}from"./entry.92cc3846.js";import{_ as Q}from"./nuxt-link.5ccbcf4d.js";import{_ as W}from"./Index.39b76960.js";import{f as D}from"./focus.3e4288bb.js";import"./RevealPassword.8886125f.js";import{_ as O,a as H,b as R}from"./github.51063059.js";import{_ as X}from"./mockup01_2x.83c209c9.js";import"./logo1.bf7fdfc5.js";F.add([I,T,N,U,z]);const Y={name:"LoginForm",components:{AuthIndex:W},directives:{focus:D},props:{action:{required:!0,type:String},route:{required:!0,type:String}},data:()=>({hasError:!1,provider:null,email:"",password:"",remember:!1,device_name:"mac"}),computed:{...k(["meta"]),...$(["isWebview"]),hasPassword(){return this.password!==null&&this.password.length},match(){return this.hasPassword&&this.password===this.password_confirmation},postParams(){return this.loginParams},loginParams(){const{email:e,password:t,remember:n}=this;return{email:e,password:t,remember:n}},loginLink(){return"api/login"},config(){return this.isWebview?{headers:{isWebview:!0}}:{}}},methods:{validate(){this.$refs.email.validate().then(e=>{console.log(e.valid)})},loginSocial(e){this.provider=e,window.location.href=`${{}.baseUrl}/api/login/${e}`},submit(){this.loading=!0,this.isSuccessful=!1,this.hasError=!1,this.oldLogin()},oldLogin(){this.$axios.get("/sanctum/csrf-cookie").then(()=>{this.$axios.post("/api/login",{email:this.email,password:this.password},this.config).then(({data:e})=>{this.loading=!1,this.isSuccessful=!0,this.$emit("success",e)}).catch(e=>{console.log("err",e),this.loading=!1;const{status:t,data:n}=e.response;switch(t){case 422:this.errors=n.errors,this.hasError=!0;break;case 429:this.message=n.message;break;case 500:this.message=n.message,this.$forceUpdate();break;default:throw e}})})}}},r=e=>(G("data-v-805aa161"),e=e(),M(),e),J=["onSubmit"],K={class:"auth-form is-gapless"},Z={class:"mb-5"},ss=r(()=>s("h1",{class:"is-size-4 has-text-black has-text-weight-bold"},"Sign in to your account",-1)),es={class:"mb-5"},ts={class:"field"},os={class:"control has-icons-left has-icons-right"},as=["textContent"],is={class:"mb-5"},ns={class:"field"},rs={class:"control has-icons-left has-icons-right"},ls=["textContent"],cs={class:"mb-5"},ds={class:"columns is-mobile is-gapless"},ms={class:"column"},hs={class:"checkbox"},us={class:"column has-text-right"},ps=r(()=>s("div",{class:"mb-6"},[s("button",{class:"button theme-button theme-button-xl has-background-primary is-uppercase has-text-weight-medium has-text-white"},"Login")],-1)),_s={class:"is-size-6 has-text-dark has-text-centered has-text-weight-regular"},gs=r(()=>s("div",{class:"divider"},"or",-1)),fs=r(()=>s("img",{src:O},null,-1)),bs=r(()=>s("img",{src:H},null,-1)),vs=r(()=>s("img",{src:R},null,-1)),ws=r(()=>s("img",{class:"auth-img",src:X,alt:""},null,-1));function xs(e,t,n,C,L,l){const m=Q,v=p("ValidationProvider"),V=p("ValidationObserver"),P=p("AuthIndex");return d(),y(P,null,{form:a(()=>[c(V,{slim:""},{default:a(({handleSubmit:E})=>[s("form",{onSubmit:B(o=>E(l.submit),["prevent"]),class:"column is-6-tablet is-7-desktop is-7-widescreen is-7-fullhd is-gapless is-flex ai--c"},[s("div",K,[s("div",null,[s("div",Z,[c(m,{to:"/",class:"is-size-6 is-flex has-text-link has-text-weight-medium mb-2"},{default:a(()=>[i(" Back to Home ")]),_:1}),ss]),e.hasError?(d(!0),u(j,{key:0},q(e.errors,(o,h)=>(d(),u("div",{key:h,class:"notification is-danger"},_(o[0]),1))),128)):g("",!0),s("div",es,[s("div",ts,[c(v,{name:"Email",ref:"email",rules:"required|email"},{default:a(({errors:o})=>[s("p",os,[f(s("input",{class:w(["input",{"is-danger":o[0]}]),type:"email",placeholder:"Email address","onUpdate:modelValue":t[0]||(t[0]=h=>e.email=h)},null,2),[[x,e.email]])]),o[0]?(d(),u("p",{key:0,class:"has-text-danger p-2",textContent:_(o[0])},null,8,as)):g("",!0)]),_:1},512)])]),s("div",is,[s("div",ns,[c(v,{name:"Password",ref:"password",rules:"required"},{default:a(({errors:o})=>[s("p",rs,[f(s("input",{class:w(["input",{"is-danger":o[0]}]),type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=h=>e.password=h)},null,2),[[x,e.password]])]),o[0]?(d(),u("p",{key:0,class:"has-text-danger p-2",textContent:_(o[0])},null,8,ls)):g("",!0)]),_:1},512)])]),s("div",cs,[s("div",ds,[s("div",ms,[s("label",hs,[f(s("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>e.remember=o),class:"mr-1",type:"checkbox"},null,512),[[A,e.remember]]),i(" Remember me ")])]),s("div",us,[c(m,{to:"/forgot-password",class:"has-text-link has-text-weight-medium"},{default:a(()=>[i(" Forgot password? ")]),_:1})])])]),ps,s("div",null,[s("p",_s,[i(" Don't have an account? "),c(m,{to:"/register",class:"has-text-link has-text-weight-medium"},{default:a(()=>[i(" Register Now ")]),_:1})])])]),gs,s("a",{onClick:t[3]||(t[3]=o=>l.loginSocial("google")),href:"javascript:;",class:"btn cnt-g"},[fs,i(" Continue with google ")]),s("a",{onClick:t[4]||(t[4]=o=>l.loginSocial("facebook")),href:"javascript:;",class:"btn cnt-g"},[bs,i(" Continue with Facebook ")]),s("a",{onClick:t[5]||(t[5]=o=>l.loginSocial("github")),href:"javascript:;",class:"btn cnt-g mb-5"},[vs,i(" Continue with Github ")])])],40,J)]),_:1})]),footerImageForm:a(()=>[ws]),_:1})}const ks=S(Y,[["render",xs],["__scopeId","data-v-805aa161"]]),$s={layout:"index",meta:{guestGuard:!0,title:"Login"},components:{LoginForm:ks},data:()=>({errors:"",payload:{email:"",password:"",remember:!1}}),computed:{...k(["meta"]),...$(["isWebview"])},methods:{...b("auth",["login"]),...b("layout",["home"]),...b(["setShowQuote","setCsrfToken"]),init(e){this.setShowQuote(this.meta.showQuote),e.csrfToken&&this.setCsrfToken({token:e.csrfToken,$axios:this.$axios}),setTimeout(()=>{this.$router.push("/dashboard"),this.login(),this.home(!0)},500)}}};function Ss(e,t,n,C,L,l){const m=p("login-form");return d(),y(m,{action:"Login",route:"login",onSuccess:l.init},null,8,["onSuccess"])}const Ts=S($s,[["render",Ss]]);export{Ts as default};
