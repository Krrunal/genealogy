import{L as p}from"./index.44e8f268.js";/* empty css              */import{a as u}from"./FileSaver.min.a072bdec.js";import{a as b,r as m,o,b as a,h as c,e,t as r,z as d,F as g,x as v,G as _,bg as x}from"./entry.92cc3846.js";import"./vue.runtime.esm-bundler.08aa84eb.js";const k={layout:"auth",components:{Loading:p},head:{title:"Gedcom Export"},data(){return{error:!1,message:"",errors:null,file:void 0,fileName:"",isLoading:!1,fullPage:!0,color:"#4fcf8d",backgroundColor:"#ffffff",response:null,inProgress:0,interval:null,generatedFile:null,fileName:""}},methods:{handleExportFiles(){this.$axios.$get("/api/gedcom-export",{headers:{"content-type":"multipart/form-data"}}).then(i=>{this.inProgress=!0,this.isLoading=!1,this.generatedFile=new Blob([i.file]),this.fileName=i.name}).catch(i=>{console.log("error"),console.log(i)})},downloadFile(){u.saveAs(this.generatedFile,this.fileName),this.generatedFile=null,this.fileName=""},async checkJobCompleted(){await this.$axios.$post("/api/check-gedcom-export",{},{headers:{"content-type":"multipart/form-data","Access-Control-Allow-Origin":"*"}}),console.log(response)}}},w=x('<div class="columns is-gapless is-multiline is-mobile" data-v-3ef3b86f><div class="column is-12" data-v-3ef3b86f><h1 class="is-size-4 has-text-black" data-v-3ef3b86f><span class="has-text-weight-medium" data-v-3ef3b86f>Export Gedcom</span></h1></div><div class="column is-12" data-v-3ef3b86f><nav class="breadcrumb mt-1 mb-0" aria-label="breadcrumbs" data-v-3ef3b86f><ul data-v-3ef3b86f><li data-v-3ef3b86f><a class="is-size-7 has-text-weight-medium has-text-link" href="/dashboard" data-v-3ef3b86f>Home</a></li><li class="is-size-7 has-text-weight-medium is-active" data-v-3ef3b86f><a href="/dashboard" aria-current="page" data-v-3ef3b86f>Export Gedcom</a></li></ul></nav></div></div>',1),y={class:"columns is-variable is-3 is-desktop is-flex-desktop-only ai--s"},F={class:"column is-12"},N={class:"card has-background-white has-text-black",style:{height:"500px"}},C={class:"card-content"},E={key:0,class:"notification is-success"},G={key:1,class:"notification is-danger"},L={class:"notification is-danger"},V={class:"field import_block"},z={class:"file is-large is-boxed has-background-primary"},B={class:"file-label"},A={class:"file-label"},D={class:"file-icon"},P={key:2,class:"field import_block"},S={class:"file is-large is-boxed has-background-primary"},O={class:"file-label"},H={class:"file-label"},I={class:"file-icon"};function J(i,l,M,T,s,n){const h=m("loading"),f=m("font-awesome-icon");return o(),a("div",null,[c(h,{active:s.isLoading,color:s.color,"background-color":s.backgroundColor},null,8,["active","color","background-color"]),w,e("div",y,[e("div",F,[e("div",N,[e("div",C,[s.response?(o(),a("div",E,r(s.response),1)):d("",!0),s.error?(o(),a("div",G,r(s.message),1)):d("",!0),(o(!0),a(g,null,v(s.errors,t=>(o(),a("div",L,r(t[0]),1))),256)),e("div",V,[e("div",z,[e("label",B,[e("span",{class:"file-cta",onClick:l[0]||(l[0]=(...t)=>n.handleExportFiles&&n.handleExportFiles(...t))},[e("span",A,[e("span",D,[c(f,{icon:["fas","download"]})]),_(" Generating a GEDCOM file ")])])])])]),s.generatedFile?(o(),a("a",P,[e("div",S,[e("label",O,[e("span",{class:"file-cta",onClick:l[1]||(l[1]=(...t)=>n.downloadFile&&n.downloadFile(...t))},[e("span",H,[e("span",I,[c(f,{icon:["fas","download"]})]),_(" Download ")])])])])])):d("",!0)])])])])])}const U=b(k,[["render",J],["__scopeId","data-v-3ef3b86f"]]);export{U as default};
