import{a as S,o as l,b as d,e as s,t as u,y as g,F as $,x as P,l as T,C as U,A,i as M,du as L,Q as B,w as V,r as x,c as I,H as p,h as n,aN as E,G as h,z as f,O as b,P as y,aX as R,bw as j,X as D,Y as G,aj as Q,ak as C}from"./entry.92cc3846.js";import{_ as H}from"./nuxt-link.5ccbcf4d.js";import{_ as O}from"./Index.39b76960.js";import{f as X}from"./focus.3e4288bb.js";import"./RevealPassword.8886125f.js";import{_ as W,a as Y,b as J}from"./github.51063059.js";import{_ as K}from"./mockup03_2x.010fe072.js";import"./logo1.bf7fdfc5.js";const Z={props:{options:{type:Array,required:!0},default:{type:String,required:!1,default:null},tabindex:{type:Number,required:!1,default:0}},data(){return{selected:this.default?this.default:this.options.length>0?this.options[0]:{title:"Select a plan",amount:0},open:!1}},mounted(){this.$emit("input",this.selected)}},ss=["tabindex"],es=["onClick"];function ts(e,t,c,w,o,m){return l(),d("div",{class:"custom-select",tabindex:c.tabindex,onBlur:t[1]||(t[1]=a=>o.open=!1)},[s("div",{class:g(["selected",{open:o.open}]),onClick:t[0]||(t[0]=a=>o.open=!o.open)},[s("div",null,u(o.selected.title),1),s("div",null,"£"+u((o.selected.amount/100).toFixed(2)),1)],2),s("div",{class:g(["items",{selectHide:!o.open}])},[(l(!0),d($,null,P(c.options,(a,k)=>(l(),d("div",{class:"option",key:k,onClick:_=>{o.selected=a,o.open=!1,e.$emit("input",a)}},[s("div",null,u(a.title),1),s("div",null,"£"+u((a.amount/100).toFixed(2)),1)],8,es))),128))],2)],40,ss)}const is=S(Z,[["render",ts],["__scopeId","data-v-8303f21d"]]);T.add([U,A,M,L,B]);const os={name:"RegisterForm",components:{AuthIndex:O,PlanSelect:is},directives:{focus:X},props:{action:{required:!0,type:String},route:{required:!0,type:String}},data:()=>({plans:[],selected_plan:null,first_name:"",last_name:"",email:"",errors:"",errorInput:"",message:"",isSuccessful:!1,loading:!1,password:"",passwordMeta:{content:"password"},password_confirmation:null,confirmationMeta:{content:"password"},terms:"",device_name:"mac"}),computed:{...V(["meta"]),hasPassword(){return this.password!==null&&this.password.length},match(){return this.hasPassword&&this.password===this.password_confirmation},postParams(){return this.registerParams},registerParams(){const{email:e,password:t,first_name:c,last_name:w,selected_plan:o,password_confirmation:m}=this;return{email:e,password:t,first_name:c,last_name:w,selected_plan:o.id,password_confirmation:m}},registerLink(){return"api/register"}},methods:{async getplans(){const e=await this.$axios.$get("/api/get-subscription-plan");this.plans=e.map(t=>(t.nickname=="free"&&(this.selected_plan=t),t))},loginSocial(e){this.provider=e,window.location.href=`${{}.baseUrl}/api/login/${e}`},submit(){this.loading=!0,this.isSuccessful=!1;let e=this.postParams;this.$axios.get("/sanctum/csrf-cookie").then(t=>{this.$axios.post(this.registerLink,e).then(({data:c})=>{this.loading=!1,this.isSuccessful=!0,this.$emit("success",c)}).catch(c=>{console.log(c),this.loading=!1;const{status:w,data:o}=c.response;switch(w){case 422:this.errorInput=o.errors;break;case 429:this.message=o.message;break;case 500:this.message=o.message,this.$forceUpdate();break;default:throw c}})})}},created(){this.getplans()}},v=e=>(D("data-v-c6120fde"),e=e(),G(),e),ns=["onSubmit"],as={class:"auth-form is-gapless"},ls={class:"mb-5"},rs=v(()=>s("h1",{class:"is-size-4 has-text-black has-text-weight-bold"}," Create your account ",-1)),cs={key:0,class:"notification is-danger"},ds={class:"mb-5"},us={class:"columns"},ps={class:"column"},ms={class:"field"},_s={class:"control has-icons-left has-icons-right"},hs=["textContent"],fs={class:"column"},gs={class:"field"},vs={class:"control has-icons-left has-icons-right"},ws={class:"icon is-small is-left"},bs=["textContent"],xs={class:"mb-5"},ks={class:"field"},ys={class:"control has-icons-left has-icons-right"},Cs={class:"icon is-small is-left"},Ss=["textContent"],$s={class:"mb-5"},Ps={class:"field"},Vs={class:"control has-icons-left has-icons-right"},Is={class:"icon is-small is-left"},Fs=["textContent"],qs={class:"mb-5"},zs={class:"field"},Ns={class:"control has-icons-left has-icons-right"},Ts=["type"],Us={class:"icon is-small is-left"},As=["textContent"],Ms={class:"mb-5"},Ls={class:"field"},Bs={class:"control has-icons-left has-icons-right"},Es={class:"mb-5 px-1"},Rs={class:"columns is-mobile is-gapless"},js={class:"column"},Ds={class:"checkbox"},Gs={key:0},Qs=["textContent"],Hs=v(()=>s("div",{class:"mb-6"},[s("button",{class:"button theme-button theme-button-xl has-background-primary is-uppercase has-text-weight-medium has-text-white"}," register ")],-1)),Os={class:"is-size-6 has-text-dark has-text-centered has-text-weight-regular"},Xs=v(()=>s("div",{class:"divider"},"or",-1)),Ws=v(()=>s("img",{src:W},null,-1)),Ys=v(()=>s("img",{src:Y},null,-1)),Js=v(()=>s("img",{src:J},null,-1)),Ks=v(()=>s("img",{class:"auth-img",src:K,alt:""},null,-1));function Zs(e,t,c,w,o,m){const a=x("font-awesome-icon"),k=H,_=x("ValidationProvider"),F=x("plan-select"),q=x("ValidationObserver"),z=x("AuthIndex");return l(),I(z,null,{form:p(()=>[n(q,{slim:""},{default:p(({handleSubmit:N})=>[s("form",{onSubmit:E(i=>N(m.submit),["prevent"]),class:"column is-6-tablet is-7-desktop is-7-widescreen is-7-fullhd is-gapless is-flex ai--c"},[s("div",as,[s("div",ls,[n(k,{to:"/",class:"is-size-6 is-flex has-text-link has-text-weight-medium mb-2"},{default:p(()=>[n(a,{icon:["fas","angle-left"],class:"mt-1 mr-2"}),h("Back to Home")]),_:1}),rs]),e.message?(l(),d("div",cs,u(e.message),1)):f("",!0),(l(!0),d($,null,P(e.errorInput,(i,r)=>(l(),d("div",{key:r,class:"notification is-danger"},u(i[0]),1))),128)),s("div",ds,[s("div",us,[s("div",ps,[s("div",ms,[n(_,{name:"First Name",rules:"required|min:3"},{default:p(({errors:i})=>[s("p",_s,[b(s("input",{class:g(["input is-large",{"is-danger":i[0]}]),type:"text",placeholder:"First name","onUpdate:modelValue":t[0]||(t[0]=r=>e.first_name=r)},null,2),[[y,e.first_name]])]),i[0]?(l(),d("p",{key:0,class:"has-text-danger p-2 is-size-7",textContent:u(i[0])},null,8,hs)):f("",!0)]),_:1})])]),s("div",fs,[s("div",gs,[n(_,{name:"Last Name",rules:"required|min:3"},{default:p(({errors:i})=>[s("p",vs,[b(s("input",{class:g(["input is-large",{"is-danger":i[0]}]),type:"text",placeholder:"Last name","onUpdate:modelValue":t[1]||(t[1]=r=>e.last_name=r)},null,2),[[y,e.last_name]]),s("span",ws,[n(a,{icon:["fas","user"]})])]),i[0]?(l(),d("p",{key:0,class:"has-text-danger p-2 is-size-7",textContent:u(i[0])},null,8,bs)):f("",!0)]),_:1})])])])]),s("div",xs,[s("div",ks,[n(_,{name:"Email",rules:"required|email"},{default:p(({errors:i})=>[s("p",ys,[b(s("input",{class:g(["input is-large",{"is-danger":i[0]}]),type:"text",placeholder:"Email address","onUpdate:modelValue":t[2]||(t[2]=r=>e.email=r)},null,2),[[y,e.email]]),s("span",Cs,[n(a,{icon:["fas","envelope"]})])]),i[0]?(l(),d("p",{key:0,class:"has-text-danger p-2 is-size-7",textContent:u(i[0])},null,8,Ss)):f("",!0)]),_:1})])]),s("div",$s,[s("div",Ps,[n(_,{name:"Password",vid:"password",rules:"required|min:8"},{default:p(({errors:i})=>[s("p",Vs,[b(s("input",{class:g(["input is-large",{"is-danger":i[0]}]),type:"password",placeholder:"Password","onUpdate:modelValue":t[3]||(t[3]=r=>e.password=r)},null,2),[[y,e.password]]),s("span",Is,[n(a,{icon:["fas","lock"]})])]),i[0]?(l(),d("p",{key:0,class:"has-text-danger p-2 is-size-7",textContent:u(i[0])},null,8,Fs)):f("",!0)]),_:1})])]),s("div",qs,[s("div",zs,[n(_,{name:"Password Confirm",rules:"required|confirmed:password"},{default:p(({errors:i})=>[s("p",Ns,[b(s("input",{class:g(["input is-large",{"is-danger":i[0]}]),type:e.passwordMeta.content,placeholder:"Confirm Password","onUpdate:modelValue":t[4]||(t[4]=r=>e.password_confirmation=r)},null,10,Ts),[[R,e.password_confirmation]]),s("span",Us,[n(a,{icon:["fas","lock"]})])]),i[0]?(l(),d("p",{key:0,class:"has-text-danger p-2 is-size-7",textContent:u(i[0])},null,8,As)):f("",!0)]),_:1})])]),s("div",Ms,[s("div",Ls,[s("p",Bs,[n(F,{options:e.plans,class:"select",onInput:t[5]||(t[5]=i=>e.selected_plan=i)},null,8,["options"])])])]),s("div",Es,[s("div",Rs,[s("div",js,[n(_,{name:"Terms And Conditions",rules:{required:{allowFalse:!1}}},{default:p(({errors:i})=>[s("label",Ds,[b(s("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=r=>e.terms=r)},null,512),[[j,e.terms]]),h(" Agree to "),n(k,{to:"/termsandconditions",class:"has-text-link has-text-weight-medium"},{default:p(()=>[h("terms and conditions")]),_:1})]),i[0]?(l(),d("div",Gs,[s("p",{class:"help has-text-danger",textContent:u(i[0])},null,8,Qs)])):f("",!0)]),_:1})])])]),Hs,s("div",null,[s("p",Os,[h(" Already have an account? "),n(k,{to:"/login",class:"has-text-link has-text-weight-medium",textContent:"Sign in"})])]),Xs,s("a",{onClick:t[7]||(t[7]=i=>m.loginSocial("google")),href:"javascript:;",class:"btn cnt-g"},[Ws,h(" Continue with google ")]),s("a",{onClick:t[8]||(t[8]=i=>m.loginSocial("facebook")),href:"javascript:;",class:"btn cnt-g"},[Ys,h(" Continue with Facebook ")]),s("a",{onClick:t[9]||(t[9]=i=>m.loginSocial("github")),href:"javascript:;",class:"btn cnt-g mb-5"},[Js,h(" Continue with Github ")])])],40,ns)]),_:1})]),footerImageForm:p(()=>[Ks]),_:1})}const se=S(os,[["render",Zs],["__scopeId","data-v-c6120fde"]]),ee={meta:{guestGuard:!0,title:"Register"},components:{RegisterForm:se},data:()=>({errors:"",payload:{email:"",password:"",remember:!1}}),computed:{...V(["meta"]),...Q(["isWebview"])},methods:{...C("auth",["login"]),...C("layout",["home"]),...C(["setShowQuote","setCsrfToken"]),init(e){this.setShowQuote(this.meta.showQuote),e.csrfToken&&this.setCsrfToken({token:e.csrfToken,$axios:this.$axios}),setTimeout(()=>{e.plan_id!=""?this.$router.push({path:"/planDetail?price="+e.plan_id+"&id="+e.id,params:{price:e.plan_id,id:e.id}}):this.$router.push("/verify")},500)}}};function te(e,t,c,w,o,m){const a=x("register-form");return l(),I(a,{action:"Register",route:"register",onSuccess:m.init},null,8,["onSuccess"])}const ue=S(ee,[["render",te]]);export{ue as default};
